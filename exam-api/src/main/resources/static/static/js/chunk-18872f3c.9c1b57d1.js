(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18872f3c"],{"2f21":function(t,e,a){"use strict";var s=a("79e5");t.exports=function(t,e){return!!t&&s((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},3331:function(t,e,a){},"55dd":function(t,e,a){"use strict";var s=a("5ca1"),r=a("d8e8"),n=a("4bf8"),i=a("79e5"),c=[].sort,u=[1,2,3];s(s.P+s.F*(i((function(){u.sort(void 0)}))||!i((function(){u.sort(null)}))||!a("2f21")(c)),"Array",{sort:function(t){return void 0===t?c.call(n(this)):c.call(n(this),r(t))}})},"8cc2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"qu-content"},[a("p",[t._v("【"+t._s(t._f("quTypeFilter")(t.quData.quType))+"】"+t._s(t.currentSort)+"/"+t._s(t.maxSort)+"、"+t._s(t.quData.content))]),t.quData.image?a("p",[a("img",{attrs:{src:t.quData.image}})]):t._e(),1===t.quData.quType||3===t.quData.quType?a("div",[a("el-radio-group",{attrs:{disabled:t.cardItem.answered},on:{change:function(e){return t.checkAnswer()}},model:{value:t.answerValues[0],callback:function(e){t.$set(t.answerValues,0,e)},expression:"answerValues[0]"}},t._l(t.quData.answerList,(function(e){return a("el-radio",{key:e.id,attrs:{label:e.id,readonly:""}},[t._v(t._s(e.abc)+"."+t._s(e.content)+" "),e.image?a("div",{staticStyle:{clear:"both"}},[a("img",{attrs:{src:e.image}})]):t._e()])})),1)],1):t._e(),2===t.quData.quType?a("div",[a("el-checkbox-group",{attrs:{disabled:t.cardItem.answered},model:{value:t.answerValues,callback:function(e){t.answerValues=e},expression:"answerValues"}},t._l(t.quData.answerList,(function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.abc)+"."+t._s(e.content)+" "),e.image?a("div",{staticStyle:{clear:"both"}},[a("img",{attrs:{src:e.image}})]):t._e()])})),1),t.cardItem.answered?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.checkAnswer}},[t._v("确认答案")])],1):t._e(),t.analysisShow?a("div",{staticStyle:{"margin-top":"20px",color:"#1890ff","font-weight":"bold"}},[t._v(" 正确答案："+t._s(t.rightTags.join(" "))+" ")]):t._e()]),a("div",{staticStyle:{"padding-top":"30px"}},[a("el-button",{attrs:{type:"primary",disabled:1===t.currentSort},on:{click:t.fetchPrevious}},[t._v("上一题")]),a("el-button",{attrs:{type:"primary",disabled:t.currentSort===t.maxSort},on:{click:t.fetchNext}},[t._v("下一题")]),a("el-button",{staticStyle:{float:"right"},on:{click:function(e){t.cardShow=!t.cardShow}}},[t._v(t._s(t.cardShow?"隐藏答题卡":"显示答题卡"))])],1)]),a("el-card",{staticClass:"qu-analysis",staticStyle:{"margin-top":"20px"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-checkbox",{model:{value:t.nextIfTrue,callback:function(e){t.nextIfTrue=e},expression:"nextIfTrue"}},[t._v("答对继续下一题")])],1),a("el-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"limegreen"}},[t._v("答对："+t._s(t.trueCount)+"题")])]),a("el-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"#ff0000"}},[t._v("答错："+t._s(t.wrongCount)+"题")])]),a("el-col",{attrs:{span:4}},[a("span",[t._v("正确率："+t._s(t.rightRate)+"%")])])],1)],1),t.cardList&&t.cardShow?a("el-card",{staticClass:"qu-analysis",staticStyle:{"margin-top":"20px"}},t._l(t.cardList,(function(e){return a("el-button",{key:e.quId,staticStyle:{"margin-bottom":"10px"},attrs:{type:t.itemClass(e.isRight,e.answered)},on:{click:function(a){return t.switchQu(e)}}},[t._v(t._s(e.sort))])})),1):t._e(),t.analysisShow&&t.quData.analysis?a("el-card",{staticClass:"qu-analysis",staticStyle:{"margin-top":"20px"}},[t._v(" 整题解析： "),a("p",[t._v(t._s(t.quData.analysis))])]):t._e(),t.analysisShow&&t.itemAnalysis.length>0?a("el-card",{staticClass:"qu-analysis",staticStyle:{"margin-top":"20px"}},[t._v(" 选项解析： "),t._l(t.answers,(function(e){return a("div",{staticClass:"qu-analysis-line"},[a("p",{staticStyle:{color:"#555"}},[t._v(t._s(e.content)+"：")]),a("p",{staticStyle:{color:"#1890ff"}},[t._v(t._s(e.analysis))])])}))],2):t._e()],1)},r=[],n=(a("28a5"),a("ac6a"),a("55dd"),a("db72")),i=a("f4bc"),c=a("b775");function u(t,e,a,s){return Object(c["b"])("/exam/api/user/repo/start",{mode:t,repoId:e,userId:a,clear:s})}function o(t,e,a){return Object(c["b"])("/exam/api/user/repo/fill",{id:t,answers:e,isRight:a})}function l(t,e,a){return Object(c["b"])("/exam/api/user/repo/check",{mode:t,repoId:e,userId:a})}function d(t,e,a){return Object(c["b"])("/exam/api/user/repo/card",{mode:t,repoId:e,userId:a})}var h=a("2f62"),f={data:function(){return{cardShow:!1,nextIfTrue:!1,currentSort:1,maxSort:100,trueCount:0,wrongCount:0,repoId:"",quId:"",mode:0,cardList:[],cardItem:{},tags:["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],analysisShow:!1,quData:{quType:1},answerValues:[],rightValues:[],rightTags:[]}},computed:Object(n["a"])({},Object(h["b"])(["userId"]),{itemAnalysis:function(){return this.quData.answerList.filter((function(t){return t.analysis}))},rightRate:function(){return 0===this.trueCount||0===this.wrongCount?0:parseInt(100*this.trueCount/(this.trueCount+this.wrongCount))}}),created:function(){var t=this;this.repoId=this.$route.params.repoId,this.mode=this.$route.params.mode,l(this.mode,this.repoId,this.userId).then((function(e){e.data.effect?t.$confirm("是否继续上一次训练?","提示",{confirmButtonText:"继续上一次",cancelButtonText:"开始新的训练",type:"warning"}).then((function(){t.handlerStart(!1)})).catch((function(){t.handlerStart(!0)})):t.handlerStart(!0)}))},methods:{handlerStart:function(t){var e=this,a=this;u(this.mode,this.repoId,this.userId,t).then((function(){d(e.mode,e.repoId,e.userId).then((function(t){e.cardList=t.data,e.maxSort=e.cardList[e.cardList.length-1].sort,e.cardList.forEach((function(t){t.isRight&&(a.trueCount+=1),!t.isRight&&t.answered&&(a.wrongCount+=1)})),e.switchQu(e.cardList[0])}))}))},checkAnswer:function(){var t=this,e=this.currentSort-1,a=this.cardList[e],s=this.answerValues.join(",");""!==s&&(this.rightValues.join(",")===s?(this.trueCount+=1,a.isRight=!0):(this.wrongCount+=1,this.analysisShow=!0,a.isRight=!1),a.answered=!0,a.answers=s,o(a.id,s,a.isRight).then((function(){if(a.isRight&&t.nextIfTrue){var e=t.cardList[t.currentSort];t.switchQu(e)}}))),this.cardItem=a},switchQu:function(t){this.clearValues(),this.quId=t.quId,this.currentSort=t.sort,this.cardItem=t,this.answerValues=t.answers.split(","),this.fetchQuDetail()},clearValues:function(){this.answerValues=[],this.rightValues=[],this.analysisShow=13==this.mode,this.rightTags=[]},fetchQuDetail:function(){var t=this;Object(i["b"])(this.quId).then((function(e){t.quData=e.data,t.quData.answerList.forEach((function(e,a){e.abc=t.tags[a],e.isRight&&(t.rightValues.push(e.id),t.rightTags.push(e.abc))}))}))},fetchNext:function(){var t=this.currentSort,e=this.cardList[t];this.switchQu(e)},fetchPrevious:function(){var t=this.currentSort-2,e=this.cardList[t];this.switchQu(e)},itemClass:function(t,e){return e?t?"success":"danger":""}}},p=f,m=(a("90fe"),a("2877")),w=Object(m["a"])(p,s,r,!1,null,"44487a16",null);e["default"]=w.exports},"90fe":function(t,e,a){"use strict";var s=a("3331"),r=a.n(s);r.a},f4bc:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"e",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return c})),a.d(e,"c",(function(){return u}));var s=a("b775");function r(t){return Object(s["b"])("/exam/api/qu/qu/detail",{id:t})}function n(t){return Object(s["b"])("/exam/api/qu/qu/save",t)}function i(t){return Object(s["a"])("/exam/api/qu/qu/export",t)}function c(){return Object(s["a"])("/exam/api/qu/qu/import/template")}function u(t){return Object(s["c"])("/exam/api/qu/qu/import",t)}}}]);